<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="../assets/images/logo/logo.png" type="image/x-icon">
<script src="../assets/js/components/headermodels.js"></script>
<script src="../assets/js/components/footer.js"></script>
<link rel="stylesheet" href="../assets/css/models/models.css">
<link href="https://fonts.googleapis.com/css2?family=Lexend+Deca&display=swap" rel="stylesheet">
<title>Mẫu xe</title>
<style>
    /* Các style hiện tại của header */
    @font-face {
        font-family: "Lexend_Deca";
        src: url(../assets/fonts/Lexend_Deca/LexendDeca-VariableFont_wght.ttf);
        font-weight: normal;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Lexend_Deca", sans-serif;
    }
</style>

<body>
    <header>
        <header-component></header-component>
    </header>
    <div class="container">
        <div class="content">
            <div class="tabs">
                <a class="tab-btn active" id="0" data-category="BMW">BMW</a>
                <a class="tab-btn" id="1" data-category="BMWM">BMW M</a>
                <a class="tab-btn" id="2" data-category="BMWi">BMW i</a>
            </div>
            <div class="sub-tabs">
                <a class="sub-tab-btn sub-active" data-type="3">3</a>
                <a class="sub-tab-btn" data-type="4">4</a>
                <a class="sub-tab-btn" data-type="5">5</a>
                <a class="sub-tab-btn" data-type="7">7</a>
                <a class="sub-tab-btn" data-type="X">X</a>
                <a class="sub-tab-btn" data-type="Z">Z</a>
                <a class="sub-tab-btn un-active bmwm-btn" data-type="M">ALL BMW M</a>
                <a class="sub-tab-btn un-active bmwm-btn" data-type="i">ALL BMW i</a>
            </div>
            <div class="car-list">
                <a href="../pages/models_details/bmw3.html">
                    <div class="car-item" data-category="BMW" data-type="3">
                        <img src="../assets/images/homepage/new_bmw_3_series_sedan.webp" alt="">
                        <h3>BMW 3 Series</h3>
                        <p>Xăng</p>
                        <p>Giá từ 1.529.000.000 VNĐ</p>
                    </div>
                </a>
                <a href="../pages/models_details/bmw4-1.html">
                    <div class="car-item" data-category="BMW" data-type="4">
                        <img src="../assets/images/homepage/4_gc.webp" alt="">
                        <h3>BMW 4 Series Gran Coupé</h3>
                        <p>Xăng</p>
                        <p>Giá từ 2.629.000.000 VNĐ</p>
                    </div>
                </a>

                <a href="../pages/models_details/bmw4.html">
                    <div class="car-item" data-category="BMW" data-type="4">
                        <img src="../assets/images/homepage/4_convertible.webp" alt="">
                        <h3>BMW 4 Series Convertible</h3>
                        <p>Xăng</p>
                        <p>Giá từ 3.115.000.000 VNĐ</p>
                    </div>
                </a>

                <a href="../pages/models_details/bmw5.html">
                    <div class="car-item" data-category="BMW" data-type="5">
                        <img src="../assets/images/homepage/new_bmw_5_series.webp" alt="">
                        <h3>BMW 5 Series</h3>
                        <p>Xăng</p>
                        <p>Giá từ 1.979.000.000 VNĐ</p>
                    </div>
                </a>

                <a href="../pages/models_details/bmw7.html">
                    <div class="car-item" data-category="BMW" data-type="7">
                        <img src="../assets/images/homepage/7_series.webp" alt="">
                        <h3>BMW 7 Series</h3>
                        <p>Xăng</p>
                        <p>Giá từ 4.499.000.000 VNĐ</p>
                    </div>
                </a>

                <a href="../pages/models_details/bmwz4.html">
                    <div class="car-item" data-category="BMW" data-type="Z">
                        <img src="../assets/images/homepage/z4.webp" alt="">
                        <h3> BMW Z4 Roadster </h3>
                        <p>Xăng</p>
                        <p>Giá từ 3.139.000.000 VNĐ</p>
                    </div>
                </a>

                <a href="../pages/models_details/bmwx3.html">
                    <div class="car-item" data-category="BMW" data-type="X">
                        <img src="../assets/images/homepage/x3_2_.webp" alt="">
                        <h3>BMW X3</h3>
                        <p>Xăng</p>
                        <p>Giá từ 1.855.000.000 VNĐ</p>
                    </div>
                </a>
                <a href="../pages/models_details/bmwxm.html">
                    <div class="car-item" data-category="BMWM" data-type="M">
                        <img src="../assets/images/models/bmwxm.png" alt="">
                        <h3>BMW XMXM</h3>
                        <p>Flug-in Hybird</p>
                        <p>Giá từ 10.999.000.000 VNĐ</p>
                    </div>
                </a>
                <a href="../pages/models_details/bmwm3.html">
                    <div class="car-item" data-category="BMWM" data-type="M">
                        <img src="../assets/images/models/bmwm3.png" alt="">
                        <h3>BMW M3</h3>
                        <p>Liên hệ tư vấn</p>
                    </div>
                </a>
                <a href="../pages/models_details/bmwx7.html">
                    <div class="car-item" data-category="BMWM" data-type="M">
                        <img src="../assets/images/models/bmwm4.png" alt="">
                        <h3>BMW M4</h3>
                        <p>Liên hệ tư vấn</p>
                    </div>
                </a>
                <a href="../pages/models_details/bmw-ix3.html">
                    <div class="car-item" data-category="BMWi" data-type="i">
                        <img src="../assets/images/models/bmwix3.png" alt="">
                        <h3>BMW iX3</h3>
                        <p>Thuần điện</p>
                        <p>Giá từ 3.539.000.000 VNĐ</p>
                    </div>
                </a>
                <a href="../pages/models_details/bmw-i7.html">
                    <div class="car-item" data-category="BMWi" data-type="i">
                        <img src="../assets/images/models/bmwi7.png" alt="">
                        <h3>BMW i7</h3>
                        <p>Thuần điện</p>
                        <p>Giá từ 6.799.000.000 VNĐ</p>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <footer>
        <footer-component></footer-component>
    </footer>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const tabButtons = document.querySelectorAll(".tab-btn");
            const subTabButtons = document.querySelectorAll(".sub-tab-btn");
            const carItems = document.querySelectorAll(".car-item");

            function filterSubTabs(selectedCategory) {
                subTabButtons.forEach(btn => {
                    if (btn.dataset.type === "M") {
                        btn.classList.add("un-active");
                    }
                    else if (btn.dataset.type === "i") {
                        btn.classList.add("un-active");
                    }
                    else {
                        btn.classList.remove("un-active")
                    }
                });
                if (selectedCategory === "BMWM") {
                    subTabButtons.forEach(btn => {
                        if (btn.dataset.type === "M") {
                            btn.classList.remove("un-active");
                            btn.classList.add("sub-active")
                        }
                        else {
                            btn.classList.add("un-active")
                        }
                    });
                }
                else if (selectedCategory === "BMWi") {
                    subTabButtons.forEach(btn => {
                        if (btn.dataset.type === "i") {
                            btn.classList.remove("un-active");
                            btn.classList.add("sub-active")
                        }
                        else {
                            btn.classList.add("un-active")
                        }
                    });
                }
            }
            function filterCars() {
                const activeCategory = document.querySelector(".tab-btn.active").dataset.category;
                const activeType = document.querySelector(".sub-tab-btn.sub-active").dataset.type;
                const subTabButtonM = document.querySelectorAll(".tab-btn[M]");
                if (activeCategory === "BMWM") {
                    carItems.forEach(car => {
                        if (car.dataset.type === "M") {
                            car.style.display = "block";
                        } else {
                            car.style.display = "none";
                            car.style.marginLeft = "0";
                        }
                    });
                }
                else if (activeCategory === "BMWi") {
                    carItems.forEach(car => {
                        if (car.dataset.type === "i") {
                            car.style.marginLeft = "2.5rem";
                            car.style.display = "block";
                        } else {

                            car.style.display = "none";
                        }
                    });
                }
                else {
                    carItems.forEach(car => {
                        const carCategory = car.dataset.category;
                        const carType = car.dataset.type;

                        if (carCategory === activeCategory && carType === activeType) {
                            car.style.marginLeft = "2.5rem";
                            car.style.display = "block";
                        } else {
                            car.style.display = "none";
                        }
                    });
                }

            }

            tabButtons.forEach(a => {
                a.addEventListener("click", function () {
                    tabButtons.forEach(btn => btn.classList.remove("active"));
                    this.classList.add("active");
                    filterSubTabs(this.dataset.category)
                    filterCars();
                });
            });
            subTabButtons.forEach(a => {
                a.addEventListener("click", function () {
                    subTabButtons.forEach(btn => btn.classList.remove("sub-active"));
                    this.classList.add("sub-active");
                    filterCars();
                });
            });

            filterCars(); // Gọi lần đầu để hiển thị danh sách mặc định
        });
    </script>
</body>