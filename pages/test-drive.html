<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../assets/images/logo/logo.png" type="image/x-icon">
    <script src="../assets/js/components/header.js"></script>
    <script src="../assets/js/components/footer.js"></script>
    <link rel="stylesheet" href="../assets/css/pages/test-drive.css">
    <title>Đăng ký lái thử</title>
    <style>
        .error {
            color: red;
            font-size: 0.8rem;
            margin-top: 0.2rem;
            display: none;
        }
        input:invalid, select:invalid, textarea:invalid {
            border-color: red;
        }
        input:valid, select:valid, textarea:valid {
            border-color: green;
        }
        #submitBtn {
            padding: 10px 20px;
            background-color: #3878d6;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 20px;
        }
        #submitBtn:hover {
            background-color: #2c62b5;
        }
    </style>
</head>

<body>
    <div class="container">
        <header-component></header-component>
        <div class="form-container">
            <div id="left">
                <h1>ĐĂNG KÝ LÁI THỬ BMW</h1>
            </div>
            <div id="right">
                <form id="testDriveForm">
                    <table>
                        <tr>
                            <td>
                                Danh Xưng
                            </td>
                            <td>
                                <select name="title" id="title" required>
                                    <option value="">Please select...</option>
                                    <option value="Anh">Anh</option>
                                    <option value="Chị">Chị</option>
                                </select>
                                <div class="error" id="titleError">Vui lòng chọn danh xưng</div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                Tên
                            </td>
                            <td>
                                <input type="text" name="firstName" id="firstName" required>
                                <div class="error" id="firstNameError">Vui lòng nhập tên</div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                Họ
                            </td>
                            <td>
                                <input type="text" name="lastName" id="lastName" required>
                                <div class="error" id="lastNameError">Vui lòng nhập họ</div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                Số điện thoại
                            </td>
                            <td>
                                <input type="tel" name="phone" id="phone" pattern="[0-9]{10,11}" required>
                                <div class="error" id="phoneError">Vui lòng nhập số điện thoại hợp lệ (10-11 số)</div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                Email
                            </td>
                            <td>
                                <input type="email" name="email" id="email" required>
                                <div class="error" id="emailError">Vui lòng nhập email hợp lệ</div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                Thành phố, tỉnh
                            </td>
                            <td>
                                <select name="provinces" id="provinces" required>
                                    <option value="">Chọn tỉnh/thành</option>
                                    <option value="An Giang">An Giang</option>
                                    <option value="Bà Rịa - Vũng Tàu">Bà Rịa - Vũng Tàu</option>
                                    <option value="Bắc Giang">Bắc Giang</option>
                                    <option value="Bắc Kạn">Bắc Kạn</option>
                                    <option value="Bạc Liêu">Bạc Liêu</option>
                                    <option value="Bắc Ninh">Bắc Ninh</option>
                                    <option value="Bến Tre">Bến Tre</option>
                                    <option value="Bình Định">Bình Định</option>
                                    <option value="Bình Dương">Bình Dương</option>
                                    <option value="Bình Phước">Bình Phước</option>
                                    <option value="Bình Thuận">Bình Thuận</option>
                                    <option value="Cà Mau">Cà Mau</option>
                                    <option value="Cần Thơ">Cần Thơ</option>
                                    <option value="Cao Bằng">Cao Bằng</option>
                                    <option value="Đà Nẵng">Đà Nẵng</option>
                                    <option value="Đắk Lắk">Đắk Lắk</option>
                                    <option value="Đắk Nông">Đắk Nông</option>
                                    <option value="Điện Biên">Điện Biên</option>
                                    <option value="Đồng Nai">Đồng Nai</option>
                                    <option value="Đồng Tháp">Đồng Tháp</option>
                                    <option value="Gia Lai">Gia Lai</option>
                                    <option value="Hà Giang">Hà Giang</option>
                                    <option value="Hà Nam">Hà Nam</option>
                                    <option value="Hà Nội">Hà Nội</option>
                                    <option value="Hà Tĩnh">Hà Tĩnh</option>
                                    <option value="Hải Dương">Hải Dương</option>
                                    <option value="Hải Phòng">Hải Phòng</option>
                                    <option value="Hậu Giang">Hậu Giang</option>
                                    <option value="Hòa Bình">Hòa Bình</option>
                                    <option value="Hưng Yên">Hưng Yên</option>
                                    <option value="Khánh Hòa">Khánh Hòa</option>
                                    <option value="Kiên Giang">Kiên Giang</option>
                                    <option value="Kon Tum">Kon Tum</option>
                                    <option value="Lai Châu">Lai Châu</option>
                                    <option value="Lâm Đồng">Lâm Đồng</option>
                                    <option value="Lạng Sơn">Lạng Sơn</option>
                                    <option value="Lào Cai">Lào Cai</option>
                                    <option value="Long An">Long An</option>
                                    <option value="Nam Định">Nam Định</option>
                                    <option value="Nghệ An">Nghệ An</option>
                                    <option value="Ninh Bình">Ninh Bình</option>
                                    <option value="Ninh Thuận">Ninh Thuận</option>
                                    <option value="Phú Thọ">Phú Thọ</option>
                                    <option value="Phú Yên">Phú Yên</option>
                                    <option value="Quảng Bình">Quảng Bình</option>
                                    <option value="Quảng Nam">Quảng Nam</option>
                                    <option value="Quảng Ngãi">Quảng Ngãi</option>
                                    <option value="Quảng Ninh">Quảng Ninh</option>
                                    <option value="Quảng Trị">Quảng Trị</option>
                                    <option value="Sóc Trăng">Sóc Trăng</option>
                                    <option value="Sơn La">Sơn La</option>
                                    <option value="Tây Ninh">Tây Ninh</option>
                                    <option value="Thái Bình">Thái Bình</option>
                                    <option value="Thái Nguyên">Thái Nguyên</option>
                                    <option value="Thanh Hóa">Thanh Hóa</option>
                                    <option value="Thừa Thiên Huế">Thừa Thiên Huế</option>
                                    <option value="Tiền Giang">Tiền Giang</option>
                                    <option value="TP Hồ Chí Minh">TP Hồ Chí Minh</option>
                                    <option value="Trà Vinh">Trà Vinh</option>
                                    <option value="Tuyên Quang">Tuyên Quang</option>
                                    <option value="Vĩnh Long">Vĩnh Long</option>
                                    <option value="Vĩnh Phúc">Vĩnh Phúc</option>
                                    <option value="Yên Bái">Yên Bái</option>
                                </select>
                                <div class="error" id="provinceError">Vui lòng chọn tỉnh/thành</div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                Quận/Huyện
                            </td>
                            <td>
                                <textarea name="district" id="district" required></textarea>
                                <div class="error" id="districtError">Vui lòng nhập quận/huyện</div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                Mẫu xe quý khách muốn thử
                            </td>
                            <td>
                                <select name="cars" id="cars" required>
                                    <option value="">Please select ...</option>
                                    <option value="BMW 3 Series Sedan">BMW 3 Series Sedan</option>
                                    <!-- Các mẫu xe khác giữ nguyên -->
                                </select>
                                <div class="error" id="carError">Vui lòng chọn mẫu xe</div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                Showroom
                            </td>
                            <td>
                                <select name="bmw_location" id="bmw_location" required>
                                    <option value="">Please select ...</option>
                                    <option value="le-duan">BMW Lê Duẩn</option>
                                    <!-- Các showroom khác giữ nguyên -->
                                </select>
                                <div class="error" id="locationError">Vui lòng chọn showroom</div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                Thông tin yêu cầu khác
                            </td>
                            <td>
                                <textarea name="note" id="note"></textarea>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                Chính sách bảo mật
                            </td>
                            <td>
                                <div style="display: flex;">
                                    <input type="checkbox" name="privacy" id="privacy" required style="padding: 0; margin: 0; width: 20px; height: 20px;">
                                    <p style="margin-left: 10px;">Tôi đồng ý</p>
                                </div>
                                <div class="error" id="privacyError">Bạn phải đồng ý với chính sách bảo mật</div>
                            </td>
                        </tr>
                    </table>
                    <ol>
                        <li>
                            Tôi trên 18 tuổi và tôi có bằng lái xe B2 hợp lệ.*
                        </li>
                        <li>
                            Tôi đồng ý để THACO (và các công ty liên kết, đối tác của THACO) thu thập, sử dụng, hiệu chỉnh,
                            lưu trữ, sao chép thông tin của tôi, cung cấp thông tin trên cho bên thứ ba có liên quan (bao
                            gồm nhưng không giới hạn các công ty thuộc Tập đoàn BMW) nhằm mục đích chăm sóc khách hàng, gửi
                            thiệp mời đến các sự kiện, các hoạt động tiếp thị, nghiên cứu và các mục đích thống kê khác giữa
                            các đối tác hoặc công ty thành viên của tập đoàn BMW. Tôi cũng biết rằng thông tin cá nhân của
                            tôi sẽ được sử dụng dựa trên luật bảo vệ sự riêng tư hiện hành.*
                        </li>
                        <li>
                            Tôi cũng đồng ý để THACO (và các công ty liên kết, đối tác của THACO) liên hệ với tôi nhằm mục
                            đích thực hiện chương trình quảng cáo/ chăm sóc khách hàng qua số điện thoại/ email và thông tin
                            liên hệ khác mà tôi đã đăng ký (dù tôi đã đăng ký danh sách không quảng cáo hay không)
                        </li>
                    </ol>

                    <div style="width: 100%; text-align: center;">
                        <button type="submit" id="submitBtn">Submit</button>
                    </div>
                </form>
            </div>
        </div>
        <footer-component></footer-component>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('testDriveForm');
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Reset all error messages
                const errorElements = document.querySelectorAll('.error');
                errorElements.forEach(el => el.style.display = 'none');
                
                let isValid = true;
                
                // Validate each field
                if (!document.getElementById('title').value) {
                    document.getElementById('titleError').style.display = 'block';
                    isValid = false;
                }
                
                if (!document.getElementById('firstName').value.trim()) {
                    document.getElementById('firstNameError').style.display = 'block';
                    isValid = false;
                }
                
                if (!document.getElementById('lastName').value.trim()) {
                    document.getElementById('lastNameError').style.display = 'block';
                    isValid = false;
                }
                
                const phone = document.getElementById('phone').value;
                if (!phone || !/^\d{10,11}$/.test(phone)) {
                    document.getElementById('phoneError').style.display = 'block';
                    isValid = false;
                }
                
                const email = document.getElementById('email').value;
                if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                    document.getElementById('emailError').style.display = 'block';
                    isValid = false;
                }
                
                if (!document.getElementById('provinces').value) {
                    document.getElementById('provinceError').style.display = 'block';
                    isValid = false;
                }
                
                if (!document.getElementById('district').value.trim()) {
                    document.getElementById('districtError').style.display = 'block';
                    isValid = false;
                }
                
                if (!document.getElementById('cars').value) {
                    document.getElementById('carError').style.display = 'block';
                    isValid = false;
                }
                
                if (!document.getElementById('bmw_location').value) {
                    document.getElementById('locationError').style.display = 'block';
                    isValid = false;
                }
                
                if (!document.getElementById('privacy').checked) {
                    document.getElementById('privacyError').style.display = 'block';
                    isValid = false;
                }
                
                if (isValid) {
                    // Form is valid, you can submit it or process the data
                    alert('Đăng ký lái thử thành công! Chúng tôi sẽ liên hệ với bạn sớm.');
                    form.reset();
                    
                    // Or submit the form to server
                    // form.submit();
                }
            });
            
            // Real-time validation for some fields
            document.getElementById('phone').addEventListener('input', function() {
                const phone = this.value;
                if (phone && !/^\d{0,11}$/.test(phone)) {
                    this.value = phone.slice(0, -1);
                }
            });
        });
    </script>
</body>

</html>